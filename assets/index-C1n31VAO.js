(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function u(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(e){if(e.ep)return;e.ep=!0;const n=u(e);fetch(e.href,n)}})();document.addEventListener("DOMContentLoaded",async function(){var p=document.getElementsByClassName("location")[0],r=document.getElementsByClassName("temp")[0],u=document.getElementsByClassName("wind")[0],l=document.getElementsByClassName("rain")[0],e=document.getElementsByClassName("sunrise")[0],n=document.getElementsByClassName("sunset")[0],c=document.getElementsByClassName("icon")[0],L=document.getElementsByClassName("yourDate")[0],C=document.getElementsByClassName("submitButton")[0],y=document.getElementsByClassName("inputNewLocation")[0],m=document.getElementById("locationModal"),B=document.getElementById("changeLocation"),N=document.getElementsByClassName("closeModalButton")[0];const M=document.getElementById("locationButton"),$="S7WY8B9FZXNVA6PWMSHYK9QMN",w="25a60192da7245f4a249e39dbb358a03",d=async t=>{const i=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${t}?key=${$}&contentType=json`;try{const o=await(await fetch(i,{method:"GET"})).json(),v=new Date,D=v.toDateString();setInterval(()=>{const a=new Date().toLocaleTimeString();L.innerHTML=`${D} ${a}`},1e3),p.innerHTML=`${o.resolvedAddress}`,r.innerHTML=`${h(o.currentConditions.temp)}°C`,u.innerHTML=`${o.currentConditions.windspeed} mph`,l.innerHTML=`${o.currentConditions.precipprob} %`,e.innerHTML=`${o.currentConditions.sunrise}`,n.innerHTML=`${o.currentConditions.sunset}`,c.src=`asset/${o.currentConditions.icon}.png`;const x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],H=v.getDay(),E=document.getElementsByClassName("forecast-container")[0];E.innerHTML="";for(let a=1;a<=5;a++){const I=(H+a)%7,S=x[I],g=o.days[a-1];if(g){const f=document.createElement("div");f.className="card flex flex-col flex-auto basis-1/6 list-none items-center  justify-center",f.innerHTML=`
                        <span class="day lg:text-2xl lg:font-bold">${S}</span>
                        <img src="asset/${g.icon}.png" class="icon size-12 lg:size-20" alt="">
                        <span class="temp text-xl lg:text-2xl lg:font-semibold">${h(g.temp)} °C</span>
                    `,E.appendChild(f)}}}catch(s){console.error("Error fetching weather data:",s)}},T=async(t,i)=>{try{return(await(await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${t}+${i}&key=${w}`)).json()).results[0].formatted}catch(s){return console.error("Error fetching place name: ",s),"delhi"}};M.addEventListener("click",()=>{navigator.geolocation.getCurrentPosition(async t=>{let i=t.coords.latitude,s=t.coords.longitude;const o=await T(i,s);d(o)},t=>{t.code===t.PERMISSION_DENIED?(console.log("Permission Denied"),d("delhi")):console.error("Error getting location:",t)})});const b="delhi",h=t=>Math.floor(5*(t-32)/9);d(b),B.addEventListener("click",()=>{m.classList.remove("hidden")}),N.addEventListener("click",()=>{m.classList.add("hidden")}),C.addEventListener("click",()=>{const t=y.value.trim();t&&(d(t),m.classList.add("hidden"),y.value="")})});
